<div>
  <div class="page-header">
  <h1><small>Permissions for {{pool.get('name')}} / {{pool.get('applicationEntityTitle')}}</small></h1>
<!-- This should really be moved into a different controller / template,
     but for the moment we are not going to do it.  Famous last words.
     DJB 11/2014 -->
<a ng-show='permission[pool.id].edit' ui-sref='root.pools.pool({poolKey: pool.id})'>detail</a>
<a ng-show='permission[pool.id].query' ui-sref='root.pools.query({poolKey: pool.id})'>query</a>
<a ng-show='permission[pool.id].query' ng-href="rest/pool/{{pool.id}}/lookup">anonymization map</a>
<a ng-show='permission[pool.id].query' ui-sref='root.pools.studies({poolKey: pool.id})'>studies</a>
<a ng-show='permission[pool.id].admin' ui-sref="root.pools.authorization({poolKey: pool.id})">permissions</a>
</div>

  <h3>Permissions <i class="fa fa-plus-circle" ng-click="editGroupRole()"></i></h3>
  <table class="table table-striped table-hover table-condensed">
    <thead>
      <tr>
        <td>Group</td>
        <td>Administrator</td>
        <td>Coordinator</td>
        <td></td>
        <td></td>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="gr in groupRoleCollection.models">
        <td>{{groupCollection.get(gr.get("groupKey")).get('name')}} / {{groupCollection.get(gr.get("groupKey")).get('description').trunc()}}</td>
        <td><i ng-show="gr.get('isPoolAdmin')" class="fa fa-check"></i></td>
        <td><i ng-show="gr.get('isCoordinator')" class="fa fa-check"></i></td>
        <td><i class="fa fa-edit" ng-click="editGroupRole(gr)"></i></td>
        <td><i class="fa fa-times-circle" ng-click="deleteGroupRole(gr)"></i></td>
      </tr>
    </tbody>
  </table>
</div>
